<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TOPIBRANDOFFICIAL</title>
  <link rel="icon" href="favicon.png" />
  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
  <style>
    /* Reset & Base */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; width: 100%; overflow: hidden; font-family: 'Orbitron', sans-serif; }
    body {
      background: url('bg-pattern.png') center/cover no-repeat;
      color: #39ff14;
    }

    /* Overlay & Content Layout */
    .overlay, .main {
      position: absolute; top: 0; left: 0;
      width: 100%; height: 100%;
      display: flex; align-items: center; justify-content: center;
      text-align: center;
      transition: opacity 1s ease;
    }
    .overlay { background: rgba(0, 0, 0, 0.65); z-index: 2; }
    .hidden { display: none !important; opacity: 0 !important; }

    /* Shared Button Style */
    .btn {
      display: inline-block;
      padding: 1rem 2rem;
      font-size: 1.2rem;
      color: #39FF14;
      background: black;
      border: 2px solid #39FF14;
      border-radius: 0.5rem;
      cursor: pointer;
      box-shadow: 0 0 10px #39FF14, 0 0 20px #39FF14;
      transition: background 0.3s, color 0.3s, box-shadow 0.3s;
    }
    .btn:hover {
      background: #39FF14;
      color: black;
      box-shadow: 0 0 20px #39FF14, 0 0 40px #39FF14;
    }

    /* Main Content */
    .main { flex-direction: column; z-index: 1; opacity: 0; }
    .logo img { max-width: 200px; }
    .tagline, .countdown { font-size: 3rem; text-shadow: 0 0 10px currentColor, 0 0 20px currentColor; white-space: nowrap; }
    @media (max-width: 480px) { .countdown { font-size: 1.8rem; } }

    /* Social Icons */
    .social { display: flex; gap: 1.5rem; margin-top: 2rem; }
    .social img { width: 2.5rem; filter: drop-shadow(0 0 5px #39FF14); transition: transform 0.2s; }
    .social img:hover { transform: scale(1.2); }

    /* Disclaimer */
    .disclaimer {
      position: absolute; bottom: 0;
      width: 100%; padding: 1rem;
      background: #111; color: #999;
      font-size: 0.9rem; border-top: 1px solid #444;
      text-align: center;
    }
    @media (max-width: 480px) { .disclaimer { font-size: 0.7rem; } }

    /* Professional Cookie Banner */
    #cookie-banner {
      position: fixed;
      bottom: 0; left: 0;
      width: 100%;
      background: rgba(0, 0, 0, 0.9);
      color: #eee;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 2rem;
      font-size: 0.9rem;
      box-shadow: 0 -2px 8px rgba(0,0,0,0.5);
      z-index: 9999;
    }
    #cookie-banner p {
      margin-right: 1rem;
      flex: 1;
    }
    #cookie-banner .actions {
      display: flex;
      gap: 0.5rem;
    }
    #cookie-banner .actions button {
      padding: 0.5rem 1rem;
      font-family: 'Orbitron', sans-serif;
      border: none;
      border-radius: 0.3rem;
      cursor: pointer;
      transition: opacity 0.3s;
    }
    #cookie-banner .actions button#accept-all { background: #39ff14; color: #000; }
    #cookie-banner .actions button#cookie-settings {
      background: transparent;
      border: 1px solid #39ff14;
      color: #39ff14;
    }
    #cookie-banner .actions button:hover { opacity: 0.8; }

    /* Cookie Modal */
    #cookie-modal {
      display: none;
      position: fixed;
      top: 50%; left: 50%; transform: translate(-50%, -50%);
      background: #222;
      color: #eee;
      padding: 2rem;
      border: 2px solid #39ff14;
      border-radius: 0.5rem;
      z-index: 10000;
      max-width: 90%; width: 400px;
    }
    #cookie-modal h3 { color: #39ff14; margin-bottom: 1rem; }
    #cookie-modal form label { display: block; margin-bottom: 0.5rem; }
    #cookie-modal form button { margin-top: 1rem; }
  </style>
</head>
<body>

  <!-- Intro Overlay -->
  <div class="overlay" id="intro">
    <button class="btn" id="enter-btn">ENTRA NEL SITO</button>
  </div>

  <!-- Main Content -->
  <div class="main" id="main-content">
    <div class="logo">
      <div class="tagline" id="tagline">#SIAMOOVUNQUE</div>
      <img id="logo-img" src="logo-topi.png" alt="Logo TOPI?" class="hidden">
    </div>
    <div class="countdown" id="countdown"></div>
    <button class="btn hidden" id="shop-btn">VAI ALLO SHOP ONLINE</button>

    <div class="social">
      <a href="https://www.instagram.com/topibrand_official" target="_blank">
        <img src="icon-instagram.png" alt="Instagram">
      </a>
      <a href="https://www.tiktok.com/@topibrand_official" target="_blank">
        <img src="icon-tiktok.png" alt="TikTok">
      </a>
      <a href="https://www.pinterest.it/topibrand_official" target="_blank">
        <img src="icon-pinterest.png" alt="Pinterest">
      </a>
    </div>

    <div class="disclaimer">
      <p>Instagram, Pinterest e TikTok sono marchi registrati dei rispettivi proprietari. L'uso di questi marchi non implica affiliazione o approvazione. Con il loro utilizzo non si intende ledere alcun diritto.</p>
    </div>
  </div>

  <!-- Background Audio -->
  <audio id="bg-music" loop muted>
    <source src="background-track.mp3" type="audio/mpeg">
    Il tuo browser non supporta l'audio.
  </audio>

  <!-- Cookie Banner -->
  <div id="cookie-banner">
    <p>Usiamo cookie e tecnologie simili per migliorare lâ€™esperienza sul sito, analizzare il traffico e per scopi di marketing. Puoi accettare tutti o gestire le preferenze.</p>
    <div class="actions">
      <button id="accept-all">Accetta tutti</button>
      <button id="cookie-settings">Preferenze</button>
    </div>
  </div>

  <!-- Cookie Modal -->
  <div id="cookie-modal">
    <h3>Gestione preferenze cookie</h3>
    <form id="cookie-form">
      <label><input type="checkbox" checked disabled> Cookie necessari (sempre attivi)</label>
      <label><input type="checkbox" id="analytics"> Cookie statistici</label>
      <label><input type="checkbox" id="marketing"> Cookie marketing</label>
      <button type="submit" class="btn">Salva preferenze</button>
      <button type="button" class="btn" id="cancel-modal">Annulla</button>
    </form>
  </div>

  <!-- Scripts -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Elementi
      const intro = document.getElementById('intro');
      const main = document.getElementById('main-content');
      const enterBtn = document.getElementById('enter-btn');
      const audio = document.getElementById('bg-music');
      const countdownEl = document.getElementById('countdown');
      const tagline = document.getElementById('tagline');
      const logoImg = document.getElementById('logo-img');
      const shopBtn = document.getElementById('shop-btn');
      const banner = document.getElementById('cookie-banner');
      const modal = document.getElementById('cookie-modal');
      const form = document.getElementById('cookie-form');

      // Avvio sito
      enterBtn.addEventListener('click', () => {
        intro.classList.add('hidden');
        setTimeout(() => { main.style.opacity = '1'; }, 1000);
        audio.muted = false;
        audio.play();
      });

      // Countdown
      const target = new Date('2025-07-01T00:00:00').getTime();
      const timer = setInterval(() => {
        const diff = target - Date.now();
        if (diff <= 0) {
          clearInterval(timer);
          tagline.classList.add('hidden');
          countdownEl.classList.add('hidden');
          logoImg.classList.remove('hidden');
          shopBtn.classList.remove('hidden');
          shopBtn.addEventListener('click', () => window.open('https://ko-fi.com/topibrand','_blank'));
          return;
        }
        const d = Math.floor(diff/864e5), h = Math.floor(diff%864e5/36e5), m = Math.floor(diff%36e5/6e4), s = Math.floor(diff%6e4/1e3);
        countdownEl.textContent = `${d}d ${h}h ${m}m ${s}s`;
      }, 1000);

      // Cookie Consent
      if (!localStorage.getItem('cookieConsent')) banner.style.display = 'flex';
      document.getElementById('accept-all').onclick = () => {
        localStorage.setItem('cookieConsent', JSON.stringify({ necessary:true, analytics:true, marketing:true }));
        banner.style.display = 'none';
      };
      document.getElementById('cookie-settings').onclick = () => modal.style.display = 'block';
      document.getElementById('cancel-modal').onclick = () => modal.style.display = 'none';
      form.addEventListener('submit', e => {
        e.preventDefault();
        localStorage.setItem('cookieConsent', JSON.stringify({ necessary:true, analytics:form.analytics.checked, marketing:form.marketing.checked }));
        banner.style.display = 'none'; modal.style.display = 'none';
      });
    });
  </script>
</body>
</html>
